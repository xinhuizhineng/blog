<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>计算机网络 on 我的空间</title><link>https://changxiangyu.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</link><description>Recent content in 计算机网络 on 我的空间</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 18 Jun 2025 14:05:18 +0800</lastBuildDate><atom:link href="https://changxiangyu.cn/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/index.xml" rel="self" type="application/rss+xml"/><item><title>深入理解 TCP 协议</title><link>https://changxiangyu.cn/p/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-tcp-%E5%8D%8F%E8%AE%AE/</link><pubDate>Wed, 18 Jun 2025 14:05:18 +0800</pubDate><guid>https://changxiangyu.cn/p/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-tcp-%E5%8D%8F%E8%AE%AE/</guid><description>&lt;h2 id="一个数据包的旅程">一个数据包的“旅程”&lt;/h2>
&lt;h3 id="1-ip把数据包送达目的主机">1. IP：把数据包送达目的主机&lt;/h3>
&lt;p>计算机在网络中的地址称为 &lt;strong>IP 地址&lt;/strong>。访问任何网站，本质上都是你的计算机向另一台计算机请求信息的过程。&lt;/p>
&lt;p>&lt;strong>简化的 IP 网络三层传输模型：&lt;/strong>
&lt;img src="https://changxiangyu.cn/images/browser-principles-and-practice/t-1.jpg"
loading="lazy"
alt="IP 网络三层传输模型示意图"
>&lt;/p>
&lt;h3 id="2-udp把数据包送达应用程序">2. UDP：把数据包送达应用程序&lt;/h3>
&lt;p>IP 协议负责将数据包发送给指定的计算机，但这还不够，因为计算机上运行着各种不同的程序。&lt;/p>
&lt;ul>
&lt;li>&lt;strong>定义&lt;/strong>：“用户数据包协议（User Datagram Protocol）”，简称 &lt;strong>UDP&lt;/strong>。&lt;/li>
&lt;li>&lt;strong>作用&lt;/strong>：UDP 中最重要的信息是&lt;strong>端口号&lt;/strong>。IP 通过 IP 地址把数据包发送给指定的电脑，而 UDP 通过端口号把数据包分发给正确的程序。&lt;/li>
&lt;li>&lt;strong>特点&lt;/strong>：UDP 不保证数据的可靠性，但传输速度非常快，适用于对实时性要求高但对丢包不敏感的应用（如视频会议、在线游戏）。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>简化的 UDP 网络四层传输模型：&lt;/strong>
&lt;img src="https://changxiangyu.cn/images/browser-principles-and-practice/t-2.jpg"
loading="lazy"
alt="UDP 网络四层传输模型示意图"
>&lt;/p>
&lt;h3 id="3-tcp把数据完整地送达应用程序">3. TCP：把数据完整地送达应用程序&lt;/h3>
&lt;p>对于要求数据传输**可靠性（Reliability）**的应用，如果直接使用 UDP 传输会面临两个主要问题：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>丢包&lt;/strong>：数据包在传输过程中容易丢失。&lt;/li>
&lt;li>&lt;strong>乱序&lt;/strong>：大文件会被拆分成多个小数据包传输，这些数据包可能经过不同的路由、在不同时间到达。UDP 无法将这些乱序包还原为原始文件。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>TCP（Transmission Control Protocol，传输控制协议）&lt;/strong> 是一种面向连接的、可靠的、基于字节流的传输层通信协议。相对于 UDP，TCP 具备以下核心特点：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>重传机制&lt;/strong>：针对数据包丢失的情况，TCP 提供重传功能。&lt;/li>
&lt;li>&lt;strong>排序机制&lt;/strong>：TCP 引入了数据包排序，保证乱序到达的数据包能被重新组合成完整的文件。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>简化的 TCP 网络四层传输模型：&lt;/strong>
&lt;img src="https://changxiangyu.cn/images/browser-principles-and-practice/t-3.jpg"
loading="lazy"
alt="TCP 网络四层传输模型示意图"
>&lt;/p>
&lt;h4 id="tcp-连接的生命周期">TCP 连接的生命周期&lt;/h4>
&lt;p>一个完整的 TCP 连接生命周期包含三个阶段：“&lt;strong>建立连接&lt;/strong>”、“&lt;strong>传输数据&lt;/strong>”和“&lt;strong>断开连接&lt;/strong>”。&lt;/p>
&lt;p>&lt;img src="https://changxiangyu.cn/images/browser-principles-and-practice/t-4.jpg"
loading="lazy"
alt="TCP 生命周期示意图"
>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>建立连接阶段&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>该阶段通过“&lt;strong>三次握手&lt;/strong>”来建立客户端和服务器之间的连接。&lt;/li>
&lt;li>TCP 提供面向连接的通信传输。&lt;strong>面向连接&lt;/strong>是指在数据通信开始之前，先做好两端之间的准备工作。&lt;/li>
&lt;li>&lt;strong>三次握手&lt;/strong>：指在建立一个 TCP 连接时，客户端和服务器总共要发送三个数据包以确认连接的建立。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>传输数据阶段&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>在该阶段，&lt;strong>接收端需要对每个数据包进行确认操作&lt;/strong>。即接收端收到数据包后，需发送确认数据包给发送端。&lt;/li>
&lt;li>&lt;strong>重发机制&lt;/strong>：若发送端在规定时间内未收到确认消息，则判断数据包丢失，触发重发。&lt;/li>
&lt;li>&lt;strong>排序重组&lt;/strong>：大文件被拆分的小数据包到达接收端后，接收端会根据 TCP 头中的序号进行排序，从而保证组成完整的数据。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>断开连接阶段&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>数据传输完毕后，需要终止连接。&lt;/li>
&lt;li>此阶段涉及“&lt;strong>四次挥手&lt;/strong>”，以确保双方都能安全断开连接，释放资源。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="总结">总结&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>数据包传输&lt;/strong>：互联网中的数据通过数据包传输，传输过程面临丢失或出错的风险。&lt;/li>
&lt;li>&lt;strong>IP 协议&lt;/strong>：负责将数据包准确送达目的主机。&lt;/li>
&lt;li>&lt;strong>UDP 协议&lt;/strong>：负责通过端口号将数据包分发给具体的应用程序，速度快但不可靠。&lt;/li>
&lt;li>&lt;strong>TCP 协议&lt;/strong>：保证数据的完整性和可靠性。其连接生命周期分为三个阶段：
&lt;ol>
&lt;li>建立连接（三次握手）&lt;/li>
&lt;li>传输数据（确认、重传、排序）&lt;/li>
&lt;li>断开连接（四次挥手）&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul></description></item></channel></rss>